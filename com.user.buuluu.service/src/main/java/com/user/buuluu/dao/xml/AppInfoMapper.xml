<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.user.buuluu.dao.mapper.AppInfoMapper" >
  <resultMap id="BaseResultMap" type="com.user.buuluu.model.AppInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    <id column="rowid" property="rowid" jdbcType="INTEGER" />
    <result column="pkgName" property="pkgname" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="author" property="author" jdbcType="VARCHAR" />
    <result column="version" property="version" jdbcType="VARCHAR" />
    <result column="versionCode" property="versioncode" jdbcType="VARCHAR" />
    <result column="apkSizeRaw" property="apksizeraw" jdbcType="INTEGER" />
    <result column="price" property="price" jdbcType="VARCHAR" />
    <result column="downloadTimes" property="downloadtimes" jdbcType="INTEGER" />
    <result column="updateTime" property="updatetime" jdbcType="VARCHAR" />
    <result column="minSdkVersion" property="minsdkversion" jdbcType="INTEGER" />
    <result column="stars" property="stars" jdbcType="VARCHAR" />
    <result column="starScore" property="starscore" jdbcType="REAL" />
    <result column="countryCode" property="countrycode" jdbcType="VARCHAR" />
    <result column="classId" property="classid" jdbcType="INTEGER" />
    <result column="flowCoins" property="flowcoins" jdbcType="INTEGER" />
    <result column="shareCoins" property="sharecoins" jdbcType="INTEGER" />
    <result column="sourceFlag" property="sourceflag" jdbcType="INTEGER" />
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" type="com.user.buuluu.model.AppInfoWithBLOBs" extends="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    <result column="downloadURL" property="downloadurl" jdbcType="LONGVARCHAR" />
    <result column="iconURL" property="iconurl" jdbcType="LONGVARCHAR" />
    <result column="description" property="description" jdbcType="LONGVARCHAR" />
    <result column="screenshot" property="screenshot" jdbcType="LONGVARCHAR" />
    <result column="smallPic" property="smallpic" jdbcType="LONGVARCHAR" />
    <result column="overview" property="overview" jdbcType="LONGVARCHAR" />
    <result column="whatsNew" property="whatsnew" jdbcType="LONGVARCHAR" />
    <result column="identifierFlag" property="identifierflag" jdbcType="LONGVARCHAR" />
    <result column="instruction" property="instruction" jdbcType="LONGVARCHAR" />
  </resultMap>
  
   <resultMap id="ResultMapWithInfoModel" type="com.user.buuluu.dao.model.AppInfoModel">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    <result column="className" property="className" jdbcType="VARCHAR" />
     <association property="appInfoWithBLOBs" javaType="com.user.buuluu.model.AppInfoWithBLOBs" resultMap="ResultMapWithBLOBs"/> 
  </resultMap>
  
  <resultMap id="ResultMapWithRand" type="com.user.buuluu.dao.model.AppRandModel">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 11:03:56 CST 2015.
    -->
    <result column="icon" property="icon" jdbcType="VARCHAR" />
    <result column="sourceId" property="sourceId" jdbcType="VARCHAR" />
    <result column="makeFlows" property="makeFlows" jdbcType="INTEGER" />
    <result column="title" property="title" jdbcType="VARCHAR" />
    <result column="videoUrl" property="videoUrl" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    rowid, pkgName, name, author, version, versionCode, apkSizeRaw, price, downloadTimes, 
    updateTime, minSdkVersion, stars, starScore, countryCode, classId, flowCoins, shareCoins, 
    sourceFlag
  </sql>
  <sql id="Blob_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    downloadURL, iconURL, description, screenshot, smallPic, overview, whatsNew, identifierFlag, 
    instruction
  </sql>
  <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from app_info
    where rowid = #{rowid,jdbcType=INTEGER}
  </select>
  
   <select id="getAppList" resultMap="ResultMapWithInfoModel" parameterType="java.util.Map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    select app_info.*,app_category.className from app_info left join app_category on app_info.classId=app_category.rowid where classid
    
      <choose>
      	<when test="classid == -1">
      	 in (select rowid from app_category where categoryId=${categoryId}) 
      	</when>
      	<otherwise>=${classid}</otherwise>
      </choose>
      order by ${orderStr} limit ${limitStr}
  </select>
  
   <select id="getRandForApp" resultMap="ResultMapWithRand" parameterType="java.util.Map" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
   SELECT a.iconURL AS icon,a.rowid AS sourceId,a.flowCoins AS makeFlows,a.name AS title,a.downloadURL as videoUrl
   FROM app_info a 
   ORDER BY RAND() 
   LIMIT ${limitStr}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    delete from app_info
    where rowid = #{rowid,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.user.buuluu.model.AppInfoWithBLOBs" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    insert into app_info (rowid, pkgName, name, 
      author, version, versionCode, 
      apkSizeRaw, price, downloadTimes, 
      updateTime, minSdkVersion, stars, 
      starScore, countryCode, classId, 
      flowCoins, shareCoins, sourceFlag, 
      downloadURL, iconURL, description, 
      screenshot, smallPic, overview, 
      whatsNew, identifierFlag, instruction
      )
    values (#{rowid,jdbcType=INTEGER}, #{pkgname,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, 
      #{author,jdbcType=VARCHAR}, #{version,jdbcType=VARCHAR}, #{versioncode,jdbcType=VARCHAR}, 
      #{apksizeraw,jdbcType=INTEGER}, #{price,jdbcType=VARCHAR}, #{downloadtimes,jdbcType=INTEGER}, 
      #{updatetime,jdbcType=VARCHAR}, #{minsdkversion,jdbcType=INTEGER}, #{stars,jdbcType=VARCHAR}, 
      #{starscore,jdbcType=REAL}, #{countrycode,jdbcType=VARCHAR}, #{classid,jdbcType=INTEGER}, 
      #{flowcoins,jdbcType=INTEGER}, #{sharecoins,jdbcType=INTEGER}, #{sourceflag,jdbcType=INTEGER}, 
      #{downloadurl,jdbcType=LONGVARCHAR}, #{iconurl,jdbcType=LONGVARCHAR}, #{description,jdbcType=LONGVARCHAR}, 
      #{screenshot,jdbcType=LONGVARCHAR}, #{smallpic,jdbcType=LONGVARCHAR}, #{overview,jdbcType=LONGVARCHAR}, 
      #{whatsnew,jdbcType=LONGVARCHAR}, #{identifierflag,jdbcType=LONGVARCHAR}, #{instruction,jdbcType=LONGVARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.user.buuluu.model.AppInfoWithBLOBs" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    insert into app_info
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="rowid != null" >
        rowid,
      </if>
      <if test="pkgname != null" >
        pkgName,
      </if>
      <if test="name != null" >
        name,
      </if>
      <if test="author != null" >
        author,
      </if>
      <if test="version != null" >
        version,
      </if>
      <if test="versioncode != null" >
        versionCode,
      </if>
      <if test="apksizeraw != null" >
        apkSizeRaw,
      </if>
      <if test="price != null" >
        price,
      </if>
      <if test="downloadtimes != null" >
        downloadTimes,
      </if>
      <if test="updatetime != null" >
        updateTime,
      </if>
      <if test="minsdkversion != null" >
        minSdkVersion,
      </if>
      <if test="stars != null" >
        stars,
      </if>
      <if test="starscore != null" >
        starScore,
      </if>
      <if test="countrycode != null" >
        countryCode,
      </if>
      <if test="classid != null" >
        classId,
      </if>
      <if test="flowcoins != null" >
        flowCoins,
      </if>
      <if test="sharecoins != null" >
        shareCoins,
      </if>
      <if test="sourceflag != null" >
        sourceFlag,
      </if>
      <if test="downloadurl != null" >
        downloadURL,
      </if>
      <if test="iconurl != null" >
        iconURL,
      </if>
      <if test="description != null" >
        description,
      </if>
      <if test="screenshot != null" >
        screenshot,
      </if>
      <if test="smallpic != null" >
        smallPic,
      </if>
      <if test="overview != null" >
        overview,
      </if>
      <if test="whatsnew != null" >
        whatsNew,
      </if>
      <if test="identifierflag != null" >
        identifierFlag,
      </if>
      <if test="instruction != null" >
        instruction,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="rowid != null" >
        #{rowid,jdbcType=INTEGER},
      </if>
      <if test="pkgname != null" >
        #{pkgname,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="author != null" >
        #{author,jdbcType=VARCHAR},
      </if>
      <if test="version != null" >
        #{version,jdbcType=VARCHAR},
      </if>
      <if test="versioncode != null" >
        #{versioncode,jdbcType=VARCHAR},
      </if>
      <if test="apksizeraw != null" >
        #{apksizeraw,jdbcType=INTEGER},
      </if>
      <if test="price != null" >
        #{price,jdbcType=VARCHAR},
      </if>
      <if test="downloadtimes != null" >
        #{downloadtimes,jdbcType=INTEGER},
      </if>
      <if test="updatetime != null" >
        #{updatetime,jdbcType=VARCHAR},
      </if>
      <if test="minsdkversion != null" >
        #{minsdkversion,jdbcType=INTEGER},
      </if>
      <if test="stars != null" >
        #{stars,jdbcType=VARCHAR},
      </if>
      <if test="starscore != null" >
        #{starscore,jdbcType=REAL},
      </if>
      <if test="countrycode != null" >
        #{countrycode,jdbcType=VARCHAR},
      </if>
      <if test="classid != null" >
        #{classid,jdbcType=INTEGER},
      </if>
      <if test="flowcoins != null" >
        #{flowcoins,jdbcType=INTEGER},
      </if>
      <if test="sharecoins != null" >
        #{sharecoins,jdbcType=INTEGER},
      </if>
      <if test="sourceflag != null" >
        #{sourceflag,jdbcType=INTEGER},
      </if>
      <if test="downloadurl != null" >
        #{downloadurl,jdbcType=LONGVARCHAR},
      </if>
      <if test="iconurl != null" >
        #{iconurl,jdbcType=LONGVARCHAR},
      </if>
      <if test="description != null" >
        #{description,jdbcType=LONGVARCHAR},
      </if>
      <if test="screenshot != null" >
        #{screenshot,jdbcType=LONGVARCHAR},
      </if>
      <if test="smallpic != null" >
        #{smallpic,jdbcType=LONGVARCHAR},
      </if>
      <if test="overview != null" >
        #{overview,jdbcType=LONGVARCHAR},
      </if>
      <if test="whatsnew != null" >
        #{whatsnew,jdbcType=LONGVARCHAR},
      </if>
      <if test="identifierflag != null" >
        #{identifierflag,jdbcType=LONGVARCHAR},
      </if>
      <if test="instruction != null" >
        #{instruction,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.user.buuluu.model.AppInfoWithBLOBs" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    update app_info
    <set >
      <if test="pkgname != null" >
        pkgName = #{pkgname,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="author != null" >
        author = #{author,jdbcType=VARCHAR},
      </if>
      <if test="version != null" >
        version = #{version,jdbcType=VARCHAR},
      </if>
      <if test="versioncode != null" >
        versionCode = #{versioncode,jdbcType=VARCHAR},
      </if>
      <if test="apksizeraw != null" >
        apkSizeRaw = #{apksizeraw,jdbcType=INTEGER},
      </if>
      <if test="price != null" >
        price = #{price,jdbcType=VARCHAR},
      </if>
      <if test="downloadtimes != null" >
        downloadTimes = #{downloadtimes,jdbcType=INTEGER},
      </if>
      <if test="updatetime != null" >
        updateTime = #{updatetime,jdbcType=VARCHAR},
      </if>
      <if test="minsdkversion != null" >
        minSdkVersion = #{minsdkversion,jdbcType=INTEGER},
      </if>
      <if test="stars != null" >
        stars = #{stars,jdbcType=VARCHAR},
      </if>
      <if test="starscore != null" >
        starScore = #{starscore,jdbcType=REAL},
      </if>
      <if test="countrycode != null" >
        countryCode = #{countrycode,jdbcType=VARCHAR},
      </if>
      <if test="classid != null" >
        classId = #{classid,jdbcType=INTEGER},
      </if>
      <if test="flowcoins != null" >
        flowCoins = #{flowcoins,jdbcType=INTEGER},
      </if>
      <if test="sharecoins != null" >
        shareCoins = #{sharecoins,jdbcType=INTEGER},
      </if>
      <if test="sourceflag != null" >
        sourceFlag = #{sourceflag,jdbcType=INTEGER},
      </if>
      <if test="downloadurl != null" >
        downloadURL = #{downloadurl,jdbcType=LONGVARCHAR},
      </if>
      <if test="iconurl != null" >
        iconURL = #{iconurl,jdbcType=LONGVARCHAR},
      </if>
      <if test="description != null" >
        description = #{description,jdbcType=LONGVARCHAR},
      </if>
      <if test="screenshot != null" >
        screenshot = #{screenshot,jdbcType=LONGVARCHAR},
      </if>
      <if test="smallpic != null" >
        smallPic = #{smallpic,jdbcType=LONGVARCHAR},
      </if>
      <if test="overview != null" >
        overview = #{overview,jdbcType=LONGVARCHAR},
      </if>
      <if test="whatsnew != null" >
        whatsNew = #{whatsnew,jdbcType=LONGVARCHAR},
      </if>
      <if test="identifierflag != null" >
        identifierFlag = #{identifierflag,jdbcType=LONGVARCHAR},
      </if>
      <if test="instruction != null" >
        instruction = #{instruction,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where rowid = #{rowid,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.user.buuluu.model.AppInfoWithBLOBs" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    update app_info
    set pkgName = #{pkgname,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      author = #{author,jdbcType=VARCHAR},
      version = #{version,jdbcType=VARCHAR},
      versionCode = #{versioncode,jdbcType=VARCHAR},
      apkSizeRaw = #{apksizeraw,jdbcType=INTEGER},
      price = #{price,jdbcType=VARCHAR},
      downloadTimes = #{downloadtimes,jdbcType=INTEGER},
      updateTime = #{updatetime,jdbcType=VARCHAR},
      minSdkVersion = #{minsdkversion,jdbcType=INTEGER},
      stars = #{stars,jdbcType=VARCHAR},
      starScore = #{starscore,jdbcType=REAL},
      countryCode = #{countrycode,jdbcType=VARCHAR},
      classId = #{classid,jdbcType=INTEGER},
      flowCoins = #{flowcoins,jdbcType=INTEGER},
      shareCoins = #{sharecoins,jdbcType=INTEGER},
      sourceFlag = #{sourceflag,jdbcType=INTEGER},
      downloadURL = #{downloadurl,jdbcType=LONGVARCHAR},
      iconURL = #{iconurl,jdbcType=LONGVARCHAR},
      description = #{description,jdbcType=LONGVARCHAR},
      screenshot = #{screenshot,jdbcType=LONGVARCHAR},
      smallPic = #{smallpic,jdbcType=LONGVARCHAR},
      overview = #{overview,jdbcType=LONGVARCHAR},
      whatsNew = #{whatsnew,jdbcType=LONGVARCHAR},
      identifierFlag = #{identifierflag,jdbcType=LONGVARCHAR},
      instruction = #{instruction,jdbcType=LONGVARCHAR}
    where rowid = #{rowid,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.user.buuluu.model.AppInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Aug 24 12:06:12 CST 2015.
    -->
    update app_info
    set pkgName = #{pkgname,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      author = #{author,jdbcType=VARCHAR},
      version = #{version,jdbcType=VARCHAR},
      versionCode = #{versioncode,jdbcType=VARCHAR},
      apkSizeRaw = #{apksizeraw,jdbcType=INTEGER},
      price = #{price,jdbcType=VARCHAR},
      downloadTimes = #{downloadtimes,jdbcType=INTEGER},
      updateTime = #{updatetime,jdbcType=VARCHAR},
      minSdkVersion = #{minsdkversion,jdbcType=INTEGER},
      stars = #{stars,jdbcType=VARCHAR},
      starScore = #{starscore,jdbcType=REAL},
      countryCode = #{countrycode,jdbcType=VARCHAR},
      classId = #{classid,jdbcType=INTEGER},
      flowCoins = #{flowcoins,jdbcType=INTEGER},
      shareCoins = #{sharecoins,jdbcType=INTEGER},
      sourceFlag = #{sourceflag,jdbcType=INTEGER}
    where rowid = #{rowid,jdbcType=INTEGER}
  </update>
</mapper>